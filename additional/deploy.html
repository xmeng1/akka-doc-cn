<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>How can I deploy Akka? &bull; Akka Documentation 中文</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="akka-docs-cn"/>
<link rel="canonical" href="http://doc.akka.io/docs/akka/current/additional/deploy.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png">
<link rel="manifest" href="../images/manifest.json">
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png">
<meta name="msapplication-TileColor" content="#15a9ce">
<meta name="theme-color" content="#15a9ce">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<script type="text/plain" class="optanon-category-2">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
ga('tsTracker.require', 'linker');
ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org','scala-ide.org']);
ga('tsTracker.send', 'pageview');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="http://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Documentation 中文</a></h1>
</div>
<div class="nav-header-version">
Version 2.5-SNAPSHOT
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="../general/index.html" class="page">General Concepts</a></li>
  <li><a href="../index-actors.html" class="page">Actors</a></li>
  <li><a href="../typed/index.html" class="page">Akka Typed</a></li>
  <li><a href="../index-cluster.html" class="page">Clustering</a></li>
  <li><a href="../stream/index.html" class="page">Streams</a></li>
  <li><a href="../index-network.html" class="page">Networking</a></li>
  <li><a href="../discovery/index.html" class="page">Discovery</a></li>
  <li><a href="../index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="../index-utilities.html" class="page">Utilities</a></li>
  <li><a href="../common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="../howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="../project/index.html" class="page">Project Information</a></li>
  <li><a href="../additional/index.html" class="page">Additional Information</a>
  <ul>
    <li><a href="../common/binary-compatibility-rules.html" class="page">Binary Compatibility Rules</a></li>
    <li><a href="../common/may-change.html" class="page">Modules marked &ldquo;May Change&rdquo;</a></li>
    <li><a href="../additional/deploy.html#how-can-i-deploy-akka-" class="active page">How can I deploy Akka?</a>
    <ul>
      <li><a href="../additional/deploy.html#lightbend-enterprise-suite" class="header">Lightbend Enterprise Suite</a></li>
      <li><a href="../additional/deploy.html#native-packager" class="header">Native Packager</a></li>
      <li><a href="../additional/deploy.html#in-a-docker-container" class="header">In a Docker container</a></li>
      <li><a href="../additional/deploy.html#in-kubernetes" class="header">In Kubernetes</a></li>
    </ul></li>
    <li><a href="../additional/faq.html" class="page">Frequently Asked Questions</a></li>
    <li><a href="../additional/ide.html" class="page">IDE Tips</a></li>
    <li><a href="../additional/books.html" class="page">Books and Videos</a></li>
    <li><a href="../additional/osgi.html" class="page">Akka in OSGi</a></li>
  </ul></li>
  <li><a href="../chinese/index.html" class="page">中文版文档说明</a></li>
</ul>
</nav>
</div>
</header>

<aside class="show-for-large">
<header class="nav-header fixed-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Documentation 中文</a></h1>
</div>
<div class="nav-header-version">
Version 2.5-SNAPSHOT
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="site-nav fixed-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="../general/index.html" class="page">General Concepts</a></li>
  <li><a href="../index-actors.html" class="page">Actors</a></li>
  <li><a href="../typed/index.html" class="page">Akka Typed</a></li>
  <li><a href="../index-cluster.html" class="page">Clustering</a></li>
  <li><a href="../stream/index.html" class="page">Streams</a></li>
  <li><a href="../index-network.html" class="page">Networking</a></li>
  <li><a href="../discovery/index.html" class="page">Discovery</a></li>
  <li><a href="../index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="../index-utilities.html" class="page">Utilities</a></li>
  <li><a href="../common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="../howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="../project/index.html" class="page">Project Information</a></li>
  <li><a href="../additional/index.html" class="page">Additional Information</a>
  <ul>
    <li><a href="../common/binary-compatibility-rules.html" class="page">Binary Compatibility Rules</a></li>
    <li><a href="../common/may-change.html" class="page">Modules marked &ldquo;May Change&rdquo;</a></li>
    <li><a href="../additional/deploy.html#how-can-i-deploy-akka-" class="active page">How can I deploy Akka?</a>
    <ul>
      <li><a href="../additional/deploy.html#lightbend-enterprise-suite" class="header">Lightbend Enterprise Suite</a></li>
      <li><a href="../additional/deploy.html#native-packager" class="header">Native Packager</a></li>
      <li><a href="../additional/deploy.html#in-a-docker-container" class="header">In a Docker container</a></li>
      <li><a href="../additional/deploy.html#in-kubernetes" class="header">In Kubernetes</a></li>
    </ul></li>
    <li><a href="../additional/faq.html" class="page">Frequently Asked Questions</a></li>
    <li><a href="../additional/ide.html" class="page">IDE Tips</a></li>
    <li><a href="../additional/books.html" class="page">Books and Videos</a></li>
    <li><a href="../additional/osgi.html" class="page">Akka in OSGi</a></li>
  </ul></li>
  <li><a href="../chinese/index.html" class="page">中文版文档说明</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer fixed-sidebar-footer">
<a href="http://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"></a>

</footer>
</aside>

<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">

<article class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#how-can-i-deploy-akka-" name="how-can-i-deploy-akka-" class="anchor"><span class="anchor-link"></span></a>How can I deploy Akka?</h1>
<p>Akka can be used in different ways:</p>
<ul>
  <li>As a library: used as a regular JAR on the classpath and/or in a web app, to be put into <code>WEB-INF/lib</code></li>
  <li>As an application packaged with <a href="https://github.com/sbt/sbt-native-packager">sbt-native-packager</a></li>
</ul>
<h2><a href="#lightbend-enterprise-suite" name="lightbend-enterprise-suite" class="anchor"><span class="anchor-link"></span></a>Lightbend Enterprise Suite</h2>
<p>Lightbend Enterprise Suite is a solution for managing Lightbend Reactive Platform applications across a cluster of machines. It is reactive from the ground up thus enabling operations to provide the resiliency required to unleash the full benefits of the Lightbend Reactive Platform in their organization.</p>
<h2><a href="#native-packager" name="native-packager" class="anchor"><span class="anchor-link"></span></a>Native Packager</h2>
<p><a href="https://github.com/sbt/sbt-native-packager">sbt-native-packager</a> is a tool for creating distributions of any type of application, including Akka applications.</p>
<p>Define sbt version in <code>project/build.properties</code> file:</p>
<pre class="prettyprint"><code class="language-none">sbt.version=0.13.13
</code></pre>
<p>Add <a href="https://github.com/sbt/sbt-native-packager">sbt-native-packager</a> in <code>project/plugins.sbt</code> file:</p>
<pre class="prettyprint"><code class="language-none">addSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-native-packager&quot; % &quot;1.1.5&quot;)
</code></pre>
<p>Follow the instructions for the <code>JavaAppPackaging</code> in the <a href="http://sbt-native-packager.readthedocs.io/en/latest/archetypes/java_app/index.html">sbt-native-packager plugin documentation</a>.</p>
<h2><a href="#in-a-docker-container" name="in-a-docker-container" class="anchor"><span class="anchor-link"></span></a>In a Docker container</h2>
<p>You can use both Akka remoting and Akka Cluster inside of Docker containers. But note that you will need to take special care with the network configuration when using Docker, described here: <a href="../remoting.html#remote-configuration-nat">Akka behind NAT or in a Docker container</a></p>
<p>You can look at the <span class="group-java"><a href="https://developer.lightbend.com/start/?group=akka&project=akka-sample-cluster-docker-compose-java">Cluster with docker-compse example project</a></span> <span class="group-scala"><a href="https://developer.lightbend.com/start/?group=akka&project=akka-sample-cluster-docker-compose-scala">Cluster with docker-compose example project</a></span> to see what this looks like in practice.</p>
<p>For the JVM to run well in a Docker container, there are some general (not Akka specific) parameters that might need tuning:</p>
<h3><a href="#resource-limits" name="resource-limits" class="anchor"><span class="anchor-link"></span></a>Resource limits</h3>
<p>Docker allows <a href="https://docs.docker.com/config/containers/resource_constraints/">constraining each containers&rsquo; resource usage</a>.</p>
<h4><a href="#memory" name="memory" class="anchor"><span class="anchor-link"></span></a>Memory</h4>
<p>You may want to look into using <a href="https://dzone.com/articles/running-a-jvm-in-a-container-without-getting-kille"><code>-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap</code></a> options for your JVM later than 8u131, which makes it understand c-group memory limits. On JVM 10 and later, the <code>-XX:+UnlockExperimentalVMOptions</code> option is no longer needed.</p>
<h4><a href="#cpu" name="cpu" class="anchor"><span class="anchor-link"></span></a>CPU</h4>
<p>For multi-threaded applications such as the JVM, the CFS scheduler limits are an ill fit, because they will restrict the allowed CPU usage even when more CPU cycles are available from the host system. This means your application may be starved of CPU time, but your system appears idle.</p>
<p>For this reason, it is best to avoid <code>--cpus</code> and <code>--cpu-quota</code> entirely, and instead specify relative container weights using <code>--cpu-shares</code> instead.</p>
<h2><a href="#in-kubernetes" name="in-kubernetes" class="anchor"><span class="anchor-link"></span></a>In Kubernetes</h2>
<h3><a href="#cluster-bootstrap" name="cluster-bootstrap" class="anchor"><span class="anchor-link"></span></a>Cluster bootstrap</h3>
<p>To take advantage of the fact that your are running inside of Kubernetes while forming a cluster, you can use the <a href="https://developer.lightbend.com/docs/akka-management/current/bootstrap/">Akka Cluster Bootstrap</a> module.</p>
<p>You can look at the <a href="https://developer.lightbend.com/start/?group=akka&project=akka-sample-cluster-kubernetes-java">Cluster with Kubernetes example project</a> to see what this looks like in practice.</p>
<h3><a href="#resource-limits" name="resource-limits" class="anchor"><span class="anchor-link"></span></a>Resource limits</h3>
<p>To avoid CFS scheduler limits, it is best not to use <code>resources.limits.cpu</code> limits, but use <code>resources.requests.cpu</code> configuration instead.</p>
</div>
</article>

<div class="row">
<div class="small-12 large-9 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../common/may-change.html"><i class="icon-prev"></i> <span class="link-prev">Modules marked May Change</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../additional/faq.html">Frequently Asked Questions <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>

<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/xmeng1/akka/tree/master/akka-docs-cn/src/main/paradox/additional/deploy.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>


<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg">
<section class="copyright">
<div>Akka is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2019 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> | 
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> | 
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> | 
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> | 
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> | 
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>
</footer>

</section>
</main>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="../assets/js/scalafiddle.js"></script>


</body>
</html>
