<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Mailboxes &bull; Akka Documentation 中文</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="akka-docs-cn"/>
<link rel="canonical" href="http://doc.akka.io/docs/akka/current/mailboxes.html"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="css/icons.css"/>
<link rel="stylesheet" type="text/css" href="css/page.css"/>
<link rel="shortcut icon" href="images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="manifest" href="images/manifest.json">
<meta name="msapplication-TileImage" content="images/mstile-150x150.png">
<meta name="msapplication-TileColor" content="#15a9ce">
<meta name="theme-color" content="#15a9ce">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<script type="text/plain" class="optanon-category-2">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
ga('tsTracker.require', 'linker');
ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org','scala-ide.org']);
ga('tsTracker.send', 'pageview');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="http://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Documentation 中文</a></h1>
</div>
<div class="nav-header-version">
Version 2.5-SNAPSHOT
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="security/index.html" class="page">Security Announcements</a></li>
  <li><a href="guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="general/index.html" class="page">General Concepts</a></li>
  <li><a href="index-actors.html" class="page">Actors</a>
  <ul>
    <li><a href="index-actors.html#dependency" class="header">Dependency</a></li>
    <li><a href="actors.html" class="page">Actors</a></li>
    <li><a href="fault-tolerance.html" class="page">Fault Tolerance</a></li>
    <li><a href="dispatchers.html" class="page">Dispatchers</a></li>
    <li><a href="mailboxes.html#mailboxes" class="active page">Mailboxes</a>
    <ul>
      <li><a href="mailboxes.html#dependency" class="header">Dependency</a></li>
      <li><a href="mailboxes.html#introduction" class="header">Introduction</a></li>
      <li><a href="mailboxes.html#mailbox-selection" class="header">Mailbox Selection</a></li>
      <li><a href="mailboxes.html#builtin-mailbox-implementations" class="header">Builtin Mailbox Implementations</a></li>
      <li><a href="mailboxes.html#mailbox-configuration-examples" class="header">Mailbox configuration examples</a></li>
      <li><a href="mailboxes.html#creating-your-own-mailbox-type" class="header">Creating your own Mailbox type</a></li>
      <li><a href="mailboxes.html#special-semantics-of-system-actorof" class="header">Special Semantics of <code>system.actorOf</code></a></li>
    </ul></li>
    <li><a href="routing.html" class="page">Routing</a></li>
    <li><a href="fsm.html" class="page">FSM</a></li>
    <li><a href="persistence.html" class="page">Persistence</a></li>
    <li><a href="persistence-schema-evolution.html" class="page">Persistence - Schema Evolution</a></li>
    <li><a href="persistence-query.html" class="page">Persistence Query</a></li>
    <li><a href="persistence-query-leveldb.html" class="page">Persistence Query for LevelDB</a></li>
    <li><a href="persistence-fsm.html" class="page">Persistent FSM</a></li>
    <li><a href="persistence-journals.html" class="page">Persistence - Building a storage backend</a></li>
    <li><a href="testing.html" class="page">Testing Actor Systems</a></li>
  </ul></li>
  <li><a href="typed/index.html" class="page">Akka Typed</a></li>
  <li><a href="index-cluster.html" class="page">Clustering</a></li>
  <li><a href="stream/index.html" class="page">Streams</a></li>
  <li><a href="index-network.html" class="page">Networking</a></li>
  <li><a href="discovery/index.html" class="page">Discovery</a></li>
  <li><a href="index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="index-utilities.html" class="page">Utilities</a></li>
  <li><a href="common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="project/index.html" class="page">Project Information</a></li>
  <li><a href="additional/index.html" class="page">Additional Information</a></li>
  <li><a href="chinese/index.html" class="page">中文版文档说明</a></li>
</ul>
</nav>
</div>
</header>

<aside class="show-for-large">
<header class="nav-header fixed-sidebar-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Documentation 中文</a></h1>
</div>
<div class="nav-header-version">
Version 2.5-SNAPSHOT
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="site-nav fixed-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="security/index.html" class="page">Security Announcements</a></li>
  <li><a href="guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="general/index.html" class="page">General Concepts</a></li>
  <li><a href="index-actors.html" class="page">Actors</a>
  <ul>
    <li><a href="index-actors.html#dependency" class="header">Dependency</a></li>
    <li><a href="actors.html" class="page">Actors</a></li>
    <li><a href="fault-tolerance.html" class="page">Fault Tolerance</a></li>
    <li><a href="dispatchers.html" class="page">Dispatchers</a></li>
    <li><a href="mailboxes.html#mailboxes" class="active page">Mailboxes</a>
    <ul>
      <li><a href="mailboxes.html#dependency" class="header">Dependency</a></li>
      <li><a href="mailboxes.html#introduction" class="header">Introduction</a></li>
      <li><a href="mailboxes.html#mailbox-selection" class="header">Mailbox Selection</a></li>
      <li><a href="mailboxes.html#builtin-mailbox-implementations" class="header">Builtin Mailbox Implementations</a></li>
      <li><a href="mailboxes.html#mailbox-configuration-examples" class="header">Mailbox configuration examples</a></li>
      <li><a href="mailboxes.html#creating-your-own-mailbox-type" class="header">Creating your own Mailbox type</a></li>
      <li><a href="mailboxes.html#special-semantics-of-system-actorof" class="header">Special Semantics of <code>system.actorOf</code></a></li>
    </ul></li>
    <li><a href="routing.html" class="page">Routing</a></li>
    <li><a href="fsm.html" class="page">FSM</a></li>
    <li><a href="persistence.html" class="page">Persistence</a></li>
    <li><a href="persistence-schema-evolution.html" class="page">Persistence - Schema Evolution</a></li>
    <li><a href="persistence-query.html" class="page">Persistence Query</a></li>
    <li><a href="persistence-query-leveldb.html" class="page">Persistence Query for LevelDB</a></li>
    <li><a href="persistence-fsm.html" class="page">Persistent FSM</a></li>
    <li><a href="persistence-journals.html" class="page">Persistence - Building a storage backend</a></li>
    <li><a href="testing.html" class="page">Testing Actor Systems</a></li>
  </ul></li>
  <li><a href="typed/index.html" class="page">Akka Typed</a></li>
  <li><a href="index-cluster.html" class="page">Clustering</a></li>
  <li><a href="stream/index.html" class="page">Streams</a></li>
  <li><a href="index-network.html" class="page">Networking</a></li>
  <li><a href="discovery/index.html" class="page">Discovery</a></li>
  <li><a href="index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="index-utilities.html" class="page">Utilities</a></li>
  <li><a href="common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="project/index.html" class="page">Project Information</a></li>
  <li><a href="additional/index.html" class="page">Additional Information</a></li>
  <li><a href="chinese/index.html" class="page">中文版文档说明</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer fixed-sidebar-footer">
<a href="http://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"></a>

</footer>
</aside>

<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">

<article class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#mailboxes" name="mailboxes" class="anchor"><span class="anchor-link"></span></a>Mailboxes</h1>
<h2><a href="#dependency" name="dependency" class="anchor"><span class="anchor-link"></span></a>Dependency</h2>
<p>To use Mailboxes, you must add the following dependency in your project:</p><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-actor" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-actor_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-actor_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<h2><a href="#introduction" name="introduction" class="anchor"><span class="anchor-link"></span></a>Introduction</h2>
<p>An Akka <code>Mailbox</code> holds the messages that are destined for an <code>Actor</code>. Normally each <code>Actor</code> has its own mailbox, but with for example a <code>BalancingPool</code> all routees will share a single mailbox instance.</p>
<h2><a href="#mailbox-selection" name="mailbox-selection" class="anchor"><span class="anchor-link"></span></a>Mailbox Selection</h2>
<h3><a href="#requiring-a-message-queue-type-for-an-actor" name="requiring-a-message-queue-type-for-an-actor" class="anchor"><span class="anchor-link"></span></a>Requiring a Message Queue Type for an Actor</h3>
<p>It is possible to require a certain type of message queue for a certain type of actor by having that actor <span class="group-scala">extend</span><span class="group-java">implement</span> the parameterized <span class="group-scala">trait</span><span class="group-java">interface</span> <code>RequiresMessageQueue</code>. Here is an example:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L258-L262" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.dispatch.RequiresMessageQueue
import akka.dispatch.BoundedMessageQueueSemantics

class MyBoundedActor extends MyActor
  with RequiresMessageQueue[BoundedMessageQueueSemantics]</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/actor/MyBoundedActor.java#L8-L12" target="_blank" title="Go to snippet source"></a><code class="language-java">import akka.dispatch.BoundedMessageQueueSemantics;
import akka.dispatch.RequiresMessageQueue;

public class MyBoundedActor extends MyActor
    implements RequiresMessageQueue&lt;BoundedMessageQueueSemantics&gt; {}</code></pre></dd>
</dl>
<p>The type parameter to the <code>RequiresMessageQueue</code> <span class="group-scala">trait</span><span class="group-java">interface</span> needs to be mapped to a mailbox in configuration like this:</p>
<pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L182-L185" target="_blank" title="Go to snippet source"></a><code class="language-scala">bounded-mailbox {
  mailbox-type = &quot;akka.dispatch.NonBlockingBoundedMailbox&quot;
  mailbox-capacity = 1000 
}

akka.actor.mailbox.requirements {
  &quot;akka.dispatch.BoundedMessageQueueSemantics&quot; = bounded-mailbox
}</code></pre>
<p>Now every time you create an actor of type <code>MyBoundedActor</code> it will try to get a bounded mailbox. If the actor has a different mailbox configured in deployment, either directly or via a dispatcher with a specified mailbox type, then that will override this mapping.</p><div class="callout note "><div class="callout-title">Note</div>
<p>The type of the queue in the mailbox created for an actor will be checked against the required type in the <span class="group-scala">trait</span><span class="group-java">interface</span> and if the queue doesn&rsquo;t implement the required type then actor creation will fail.</p></div>
<h3><a href="#requiring-a-message-queue-type-for-a-dispatcher" name="requiring-a-message-queue-type-for-a-dispatcher" class="anchor"><span class="anchor-link"></span></a>Requiring a Message Queue Type for a Dispatcher</h3>
<p>A dispatcher may also have a requirement for the mailbox type used by the actors running on it. An example is the BalancingDispatcher which requires a message queue that is thread-safe for multiple concurrent consumers. Such a requirement is formulated within the dispatcher configuration section like this:</p>
<pre><code>my-dispatcher {
  mailbox-requirement = org.example.MyInterface
}
</code></pre>
<p>The given requirement names a class or interface which will then be ensured to be a supertype of the message queue’s implementation. In case of a conflict—e.g. if the actor requires a mailbox type which does not satisfy this requirement—then actor creation will fail.</p>
<h3><a href="#how-the-mailbox-type-is-selected" name="how-the-mailbox-type-is-selected" class="anchor"><span class="anchor-link"></span></a>How the Mailbox Type is Selected</h3>
<p>When an actor is created, the <code>ActorRefProvider</code> first determines the dispatcher which will execute it. Then the mailbox is determined as follows:</p>
<ol>
  <li>If the actor’s deployment configuration section contains a <code>mailbox</code> key then that names a configuration section describing the mailbox type to be used.</li>
  <li>If the actor’s <code>Props</code> contains a mailbox selection—i.e. <code>withMailbox</code> was called on it—then that names a configuration section describing the mailbox type to be used (note that this needs to be an absolute config path, for example <code>myapp.special-mailbox</code>, and is not nested inside the <code>akka</code> namespace).</li>
  <li>If the dispatcher’s configuration section contains a <code>mailbox-type</code> key the same section will be used to configure the mailbox type.</li>
  <li>If the actor requires a mailbox type as described above then the mapping for that requirement will be used to determine the mailbox type to be used; if that fails then the dispatcher’s requirement—if any—will be tried instead.</li>
  <li>If the dispatcher requires a mailbox type as described above then the mapping for that requirement will be used to determine the mailbox type to be used.</li>
  <li>The default mailbox <code>akka.actor.default-mailbox</code> will be used.</li>
</ol>
<h3><a href="#default-mailbox" name="default-mailbox" class="anchor"><span class="anchor-link"></span></a>Default Mailbox</h3>
<p>When the mailbox is not specified as described above the default mailbox is used. By default it is an unbounded mailbox, which is backed by a <code>java.util.concurrent.ConcurrentLinkedQueue</code>.</p>
<p><code>SingleConsumerOnlyUnboundedMailbox</code> is an even more efficient mailbox, and it can be used as the default mailbox, but it cannot be used with a BalancingDispatcher.</p>
<p>Configuration of <code>SingleConsumerOnlyUnboundedMailbox</code> as default mailbox:</p>
<pre><code>akka.actor.default-mailbox {
  mailbox-type = &quot;akka.dispatch.SingleConsumerOnlyUnboundedMailbox&quot;
}
</code></pre>
<h3><a href="#which-configuration-is-passed-to-the-mailbox-type" name="which-configuration-is-passed-to-the-mailbox-type" class="anchor"><span class="anchor-link"></span></a>Which Configuration is passed to the Mailbox Type</h3>
<p>Each mailbox type is implemented by a class which extends <code>MailboxType</code> and takes two constructor arguments: a <code>ActorSystem.Settings</code> object and a <code>Config</code> section. The latter is computed by obtaining the named configuration section from the actor system’s configuration, overriding its <code>id</code> key with the configuration path of the mailbox type and adding a fall-back to the default mailbox configuration section.</p>
<h2><a href="#builtin-mailbox-implementations" name="builtin-mailbox-implementations" class="anchor"><span class="anchor-link"></span></a>Builtin Mailbox Implementations</h2>
<p>Akka comes shipped with a number of mailbox implementations:</p>
<ul>
  <li> <strong>UnboundedMailbox</strong> (default)
    <ul>
      <li>The default mailbox</li>
      <li>Backed by a <code>java.util.concurrent.ConcurrentLinkedQueue</code></li>
      <li>Blocking: No</li>
      <li>Bounded: No</li>
      <li>Configuration name: <code>&quot;unbounded&quot;</code> or <code>&quot;akka.dispatch.UnboundedMailbox&quot;</code></li>
    </ul>
  </li>
  <li> <strong>SingleConsumerOnlyUnboundedMailbox</strong>  This queue may or may not be faster than the default one depending on your use-case—be sure to benchmark properly!
    <ul>
      <li>Backed by a Multiple-Producer Single-Consumer queue, cannot be used with <code>BalancingDispatcher</code></li>
      <li>Blocking: No</li>
      <li>Bounded: No</li>
      <li>Configuration name: <code>&quot;akka.dispatch.SingleConsumerOnlyUnboundedMailbox&quot;</code></li>
    </ul>
  </li>
  <li> <strong>NonBlockingBoundedMailbox</strong>
    <ul>
      <li>Backed by a very efficient Multiple-Producer Single-Consumer queue</li>
      <li>Blocking: No (discards overflowing messages into deadLetters)</li>
      <li>Bounded: Yes</li>
      <li>Configuration name: <code>&quot;akka.dispatch.NonBlockingBoundedMailbox&quot;</code></li>
    </ul>
  </li>
  <li> <strong>UnboundedControlAwareMailbox</strong>
    <ul>
      <li>Delivers messages that extend <code>akka.dispatch.ControlMessage</code> with higher priority</li>
      <li>Backed by two <code>java.util.concurrent.ConcurrentLinkedQueue</code></li>
      <li>Blocking: No</li>
      <li>Bounded: No</li>
      <li>Configuration name: &ldquo;akka.dispatch.UnboundedControlAwareMailbox&rdquo;</li>
    </ul>
  </li>
  <li> <strong>UnboundedPriorityMailbox</strong>
    <ul>
      <li>Backed by a <code>java.util.concurrent.PriorityBlockingQueue</code></li>
      <li>Delivery order for messages of equal priority is undefined - contrast with the UnboundedStablePriorityMailbox</li>
      <li>Blocking: No</li>
      <li>Bounded: No</li>
      <li>Configuration name: &ldquo;akka.dispatch.UnboundedPriorityMailbox&rdquo;</li>
    </ul>
  </li>
  <li> <strong>UnboundedStablePriorityMailbox</strong>
    <ul>
      <li>Backed by a <code>java.util.concurrent.PriorityBlockingQueue</code> wrapped in an <code>akka.util.PriorityQueueStabilizer</code></li>
      <li>FIFO order is preserved for messages of equal priority - contrast with the UnboundedPriorityMailbox</li>
      <li>Blocking: No</li>
      <li>Bounded: No</li>
      <li>Configuration name: &ldquo;akka.dispatch.UnboundedStablePriorityMailbox&rdquo;</li>
    </ul>
  </li>
</ul>
<p>Other bounded mailbox implementations which will block the sender if the capacity is reached and configured with non-zero <code>mailbox-push-timeout-time</code>. </p><div class="callout note "><div class="callout-title">Note</div>
<p>The following mailboxes should only be used with zero <code>mailbox-push-timeout-time</code>.</p></div>
<ul>
  <li><strong>BoundedMailbox</strong>
    <ul>
      <li>Backed by a <code>java.util.concurrent.LinkedBlockingQueue</code></li>
      <li>Blocking: Yes if used with non-zero <code>mailbox-push-timeout-time</code>, otherwise No</li>
      <li>Bounded: Yes</li>
      <li>Configuration name: &ldquo;bounded&rdquo; or &ldquo;akka.dispatch.BoundedMailbox&rdquo;</li>
    </ul>
  </li>
  <li><strong>BoundedPriorityMailbox</strong>
    <ul>
      <li>Backed by a <code>java.util.PriorityQueue</code> wrapped in an <code>akka.util.BoundedBlockingQueue</code></li>
      <li>Delivery order for messages of equal priority is undefined - contrast with the <code>BoundedStablePriorityMailbox</code></li>
      <li>Blocking: Yes if used with non-zero <code>mailbox-push-timeout-time</code>, otherwise No</li>
      <li>Bounded: Yes</li>
      <li>Configuration name: <code>&quot;akka.dispatch.BoundedPriorityMailbox&quot;</code></li>
    </ul>
  </li>
  <li><strong>BoundedStablePriorityMailbox</strong>
    <ul>
      <li>Backed by a <code>java.util.PriorityQueue</code> wrapped in an <code>akka.util.PriorityQueueStabilizer</code> and an <code>akka.util.BoundedBlockingQueue</code></li>
      <li>FIFO order is preserved for messages of equal priority - contrast with the BoundedPriorityMailbox</li>
      <li>Blocking: Yes if used with non-zero <code>mailbox-push-timeout-time</code>, otherwise No</li>
      <li>Bounded: Yes</li>
      <li>Configuration name: &ldquo;akka.dispatch.BoundedStablePriorityMailbox&rdquo;</li>
    </ul>
  </li>
  <li><strong>BoundedControlAwareMailbox</strong>
    <ul>
      <li>Delivers messages that extend <code>akka.dispatch.ControlMessage</code> with higher priority</li>
      <li>Backed by two <code>java.util.concurrent.ConcurrentLinkedQueue</code> and blocking on enqueue if capacity has been reached</li>
      <li>Blocking: Yes if used with non-zero <code>mailbox-push-timeout-time</code>, otherwise No</li>
      <li>Bounded: Yes</li>
      <li>Configuration name: &ldquo;akka.dispatch.BoundedControlAwareMailbox&rdquo;</li>
    </ul>
  </li>
</ul>
<h2><a href="#mailbox-configuration-examples" name="mailbox-configuration-examples" class="anchor"><span class="anchor-link"></span></a>Mailbox configuration examples</h2>
<h3><a href="#prioritymailbox" name="prioritymailbox" class="anchor"><span class="anchor-link"></span></a>PriorityMailbox</h3>
<p>How to create a PriorityMailbox:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L221-L242" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.dispatch.PriorityGenerator
import akka.dispatch.UnboundedStablePriorityMailbox
import com.typesafe.config.Config

// We inherit, in this case, from UnboundedStablePriorityMailbox
// and seed it with the priority generator
class MyPrioMailbox(settings: ActorSystem.Settings, config: Config)
  extends UnboundedStablePriorityMailbox(
    // Create a new PriorityGenerator, lower prio means more important
    PriorityGenerator {
      // &#39;highpriority messages should be treated first if possible
      case &#39;highpriority ⇒ 0

      // &#39;lowpriority messages should be treated last if possible
      case &#39;lowpriority  ⇒ 2

      // PoisonPill when no other left
      case PoisonPill    ⇒ 3

      // We default to 1, which is in between high and low
      case otherwise     ⇒ 1
    })</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L218-L236" target="_blank" title="Go to snippet source"></a><code class="language-java">static class MyPrioMailbox extends UnboundedStablePriorityMailbox {
  // needed for reflective instantiation
  public MyPrioMailbox(ActorSystem.Settings settings, Config config) {
    // Create a new PriorityGenerator, lower prio means more important
    super(
        new PriorityGenerator() {
          @Override
          public int gen(Object message) {
            if (message.equals(&quot;highpriority&quot;))
              return 0; // &#39;highpriority messages should be treated first if possible
            else if (message.equals(&quot;lowpriority&quot;))
              return 2; // &#39;lowpriority messages should be treated last if possible
            else if (message.equals(PoisonPill.getInstance()))
              return 3; // PoisonPill when no other left
            else return 1; // By default they go between high and low prio
          }
        });
  }
}</code></pre></dd>
</dl>
<p>And then add it to the configuration:</p>
<pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L151-L154" target="_blank" title="Go to snippet source"></a><code class="language-scala">prio-dispatcher {
  mailbox-type = &quot;docs.dispatcher.DispatcherDocSpec$MyPrioMailbox&quot;
  //Other dispatcher configuration goes here
}</code></pre>
<p>And then an example on how you would use it:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L358-L388" target="_blank" title="Go to snippet source"></a><code class="language-scala"><br/>// We create a new Actor that just prints out what it processes
class Logger extends Actor {
  val log: LoggingAdapter = Logging(context.system, this)

  self ! &#39;lowpriority
  self ! &#39;lowpriority
  self ! &#39;highpriority
  self ! &#39;pigdog
  self ! &#39;pigdog2
  self ! &#39;pigdog3
  self ! &#39;highpriority
  self ! PoisonPill

  def receive = {
    case x ⇒ log.info(x.toString)
  }
}
val a = system.actorOf(Props(classOf[Logger], this).withDispatcher(
  &quot;prio-dispatcher&quot;))

/*
 * Logs:
 * &#39;highpriority
 * &#39;highpriority
 * &#39;pigdog
 * &#39;pigdog2
 * &#39;pigdog3
 * &#39;lowpriority
 * &#39;lowpriority
 */</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L123-L167" target="_blank" title="Go to snippet source"></a><code class="language-java"><br/>class Demo extends AbstractActor {
  LoggingAdapter log = Logging.getLogger(getContext().getSystem(), this);

  {
    for (Object msg :
        new Object[] {
          &quot;lowpriority&quot;,
          &quot;lowpriority&quot;,
          &quot;highpriority&quot;,
          &quot;pigdog&quot;,
          &quot;pigdog2&quot;,
          &quot;pigdog3&quot;,
          &quot;highpriority&quot;,
          PoisonPill.getInstance()
        }) {
      getSelf().tell(msg, getSelf());
    }
  }

  @Override
  public Receive createReceive() {
    return receiveBuilder()
        .matchAny(
            message -&gt; {
              log.info(message.toString());
            })
        .build();
  }
}

// We create a new Actor that just prints out what it processes
ActorRef myActor =
    system.actorOf(Props.create(Demo.class, this).withDispatcher(&quot;prio-dispatcher&quot;));

/*
Logs:
  &#39;highpriority
  &#39;highpriority
  &#39;pigdog
  &#39;pigdog2
  &#39;pigdog3
  &#39;lowpriority
  &#39;lowpriority
*/</code></pre></dd>
</dl>
<p>It is also possible to configure a mailbox type directly like this (this is a top-level configuration entry):</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L166-L169" target="_blank" title="Go to snippet source"></a><code class="language-scala">prio-mailbox {
  mailbox-type = &quot;docs.dispatcher.DispatcherDocSpec$MyPrioMailbox&quot;
  //Other mailbox configuration goes here
}

akka.actor.deployment {
  /priomailboxactor {
    mailbox = prio-mailbox
  }
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L28-L31" target="_blank" title="Go to snippet source"></a><code class="language-scala">prio-mailbox {
  mailbox-type = &quot;docs.dispatcher.DispatcherDocSpec$MyPrioMailbox&quot;
  //Other mailbox configuration goes here
}

akka.actor.deployment {
  /priomailboxactor {
    mailbox = prio-mailbox
  }
}</code></pre></dd>
</dl>
<p>And then use it either from deployment like this:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L337-L338" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.actor.Props
val myActor = context.actorOf(Props[MyActor], &quot;priomailboxactor&quot;)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L101" target="_blank" title="Go to snippet source"></a><code class="language-java">ActorRef myActor = system.actorOf(Props.create(MyActor.class), &quot;priomailboxactor&quot;);</code></pre></dd>
</dl>
<p>Or code like this:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L345-L346" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.actor.Props
val myActor = context.actorOf(Props[MyActor].withMailbox(&quot;prio-mailbox&quot;))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L109" target="_blank" title="Go to snippet source"></a><code class="language-java">ActorRef myActor = system.actorOf(Props.create(MyActor.class).withMailbox(&quot;prio-mailbox&quot;));</code></pre></dd>
</dl>
<h3><a href="#controlawaremailbox" name="controlawaremailbox" class="anchor"><span class="anchor-link"></span></a>ControlAwareMailbox</h3>
<p>A <code>ControlAwareMailbox</code> can be very useful if an actor needs to be able to receive control messages immediately no matter how many other messages are already in its mailbox.</p>
<p>It can be configured like this:</p>
<pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L212-L215" target="_blank" title="Go to snippet source"></a><code class="language-scala">control-aware-dispatcher {
  mailbox-type = &quot;akka.dispatch.UnboundedControlAwareMailbox&quot;
  //Other dispatcher configuration goes here
}</code></pre>
<p>Control messages need to extend the <code>ControlMessage</code> trait:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L246-L248" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.dispatch.ControlMessage

case object MyControlMessage extends ControlMessage</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L241" target="_blank" title="Go to snippet source"></a><code class="language-java">static class MyControlMessage implements ControlMessage {}</code></pre></dd>
</dl>
<p>And then an example on how you would use it:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L399-L421" target="_blank" title="Go to snippet source"></a><code class="language-scala"><br/>// We create a new Actor that just prints out what it processes
class Logger extends Actor {
  val log: LoggingAdapter = Logging(context.system, this)

  self ! &#39;foo
  self ! &#39;bar
  self ! MyControlMessage
  self ! PoisonPill

  def receive = {
    case x ⇒ log.info(x.toString)
  }
}
val a = system.actorOf(Props(classOf[Logger], this).withDispatcher(
  &quot;control-aware-dispatcher&quot;))

/*
 * Logs:
 * MyControlMessage
 * &#39;foo
 * &#39;bar
 */</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L178-L209" target="_blank" title="Go to snippet source"></a><code class="language-java"><br/>class Demo extends AbstractActor {
  LoggingAdapter log = Logging.getLogger(getContext().getSystem(), this);

  {
    for (Object msg :
        new Object[] {&quot;foo&quot;, &quot;bar&quot;, new MyControlMessage(), PoisonPill.getInstance()}) {
      getSelf().tell(msg, getSelf());
    }
  }

  @Override
  public Receive createReceive() {
    return receiveBuilder()
        .matchAny(
            message -&gt; {
              log.info(message.toString());
            })
        .build();
  }
}

// We create a new Actor that just prints out what it processes
ActorRef myActor =
    system.actorOf(Props.create(Demo.class, this).withDispatcher(&quot;control-aware-dispatcher&quot;));

/*
Logs:
  &#39;MyControlMessage
  &#39;foo
  &#39;bar
*/</code></pre></dd>
</dl>
<h2><a href="#creating-your-own-mailbox-type" name="creating-your-own-mailbox-type" class="anchor"><span class="anchor-link"></span></a>Creating your own Mailbox type</h2>
<p>An example is worth a thousand quacks:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/MyUnboundedMailbox.scala#L60-L61" target="_blank" title="Go to snippet source"></a><code class="language-scala">// Marker trait used for mailbox requirements mapping
trait MyUnboundedMessageQueueSemantics</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/MyUnboundedMessageQueueSemantics.java#L8-L9" target="_blank" title="Go to snippet source"></a><code class="language-java">// Marker interface used for mailbox requirements mapping
public interface MyUnboundedMessageQueueSemantics {}</code></pre></dd>
</dl>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/MyUnboundedMailbox.scala#L8-L56" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.actor.ActorRef
import akka.actor.ActorSystem
import akka.dispatch.Envelope
import akka.dispatch.MailboxType
import akka.dispatch.MessageQueue
import akka.dispatch.ProducesMessageQueue
import com.typesafe.config.Config
import java.util.concurrent.ConcurrentLinkedQueue
import scala.Option

object MyUnboundedMailbox {
  // This is the MessageQueue implementation
  class MyMessageQueue extends MessageQueue
    with MyUnboundedMessageQueueSemantics {

    private final val queue = new ConcurrentLinkedQueue[Envelope]()

    // these should be implemented; queue used as example
    def enqueue(receiver: ActorRef, handle: Envelope): Unit =
      queue.offer(handle)
    def dequeue(): Envelope = queue.poll()
    def numberOfMessages: Int = queue.size
    def hasMessages: Boolean = !queue.isEmpty
    def cleanUp(owner: ActorRef, deadLetters: MessageQueue): Unit = {
      while (hasMessages) {
        deadLetters.enqueue(owner, dequeue())
      }
    }
  }
}

// This is the Mailbox implementation
class MyUnboundedMailbox extends MailboxType
  with ProducesMessageQueue[MyUnboundedMailbox.MyMessageQueue] {

  import MyUnboundedMailbox._

  // This constructor signature must exist, it will be called by Akka
  def this(settings: ActorSystem.Settings, config: Config) = {
    // put your initialization code here
    this()
  }

  // The create method is called to create the MessageQueue
  final override def create(
    owner:  Option[ActorRef],
    system: Option[ActorSystem]): MessageQueue =
    new MyMessageQueue()
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/MyUnboundedMailbox.java#L8-L59" target="_blank" title="Go to snippet source"></a><code class="language-java">import akka.actor.ActorRef;
import akka.actor.ActorSystem;
import akka.dispatch.Envelope;
import akka.dispatch.MailboxType;
import akka.dispatch.MessageQueue;
import akka.dispatch.ProducesMessageQueue;
import com.typesafe.config.Config;
import java.util.concurrent.ConcurrentLinkedQueue;
import java.util.Queue;
import scala.Option;

public class MyUnboundedMailbox
    implements MailboxType, ProducesMessageQueue&lt;MyUnboundedMailbox.MyMessageQueue&gt; {

  // This is the MessageQueue implementation
  public static class MyMessageQueue implements MessageQueue, MyUnboundedMessageQueueSemantics {
    private final Queue&lt;Envelope&gt; queue = new ConcurrentLinkedQueue&lt;Envelope&gt;();

    // these must be implemented; queue used as example
    public void enqueue(ActorRef receiver, Envelope handle) {
      queue.offer(handle);
    }

    public Envelope dequeue() {
      return queue.poll();
    }

    public int numberOfMessages() {
      return queue.size();
    }

    public boolean hasMessages() {
      return !queue.isEmpty();
    }

    public void cleanUp(ActorRef owner, MessageQueue deadLetters) {
      for (Envelope handle : queue) {
        deadLetters.enqueue(owner, handle);
      }
    }
  }

  // This constructor signature must exist, it will be called by Akka
  public MyUnboundedMailbox(ActorSystem.Settings settings, Config config) {
    // put your initialization code here
  }

  // The create method is called to create the MessageQueue
  public MessageQueue create(Option&lt;ActorRef&gt; owner, Option&lt;ActorSystem&gt; system) {
    return new MyMessageQueue();
  }
}</code></pre></dd>
</dl>
<p>And then you specify the FQCN of your MailboxType as the value of the &ldquo;mailbox-type&rdquo; in the dispatcher configuration, or the mailbox configuration.</p><div class="callout note "><div class="callout-title">Note</div>
<p>Make sure to include a constructor which takes <code>akka.actor.ActorSystem.Settings</code> and <code>com.typesafe.config.Config</code> arguments, as this constructor is invoked reflectively to construct your mailbox type. The config passed in as second argument is that section from the configuration which describes the dispatcher or mailbox setting using this mailbox type; the mailbox type will be instantiated once for each dispatcher or mailbox setting using it.</p></div>
<p>You can also use the mailbox as a requirement on the dispatcher like this:</p>
<pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L35-L47" target="_blank" title="Go to snippet source"></a><code class="language-scala">custom-dispatcher {
  mailbox-requirement =
  &quot;jdocs.dispatcher.MyUnboundedMessageQueueSemantics&quot;
}

akka.actor.mailbox.requirements {
  &quot;jdocs.dispatcher.MyUnboundedMessageQueueSemantics&quot; =
  custom-dispatcher-mailbox
}

custom-dispatcher-mailbox {
  mailbox-type = &quot;jdocs.dispatcher.MyUnboundedMailbox&quot;
}</code></pre>
<p>Or by defining the requirement on your actor class like this:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/scala/docs/dispatcher/DispatcherDocSpec.scala#L266-L274" target="_blank" title="Go to snippet source"></a><code class="language-scala">class MySpecialActor extends Actor
  with RequiresMessageQueue[MyUnboundedMessageQueueSemantics] {
  // ...
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/xmeng1/akka/tree/master/akka-docs/src/test/java/jdocs/dispatcher/DispatcherDocTest.java#L252-L261" target="_blank" title="Go to snippet source"></a><code class="language-java">static class MySpecialActor extends AbstractActor
    implements RequiresMessageQueue&lt;MyUnboundedMessageQueueSemantics&gt; {
  // ...
}</code></pre></dd>
</dl>
<h2><a href="#special-semantics-of-system-actorof" name="special-semantics-of-system-actorof" class="anchor"><span class="anchor-link"></span></a>Special Semantics of <code>system.actorOf</code></h2>
<p>In order to make <code>system.actorOf</code> both synchronous and non-blocking while keeping the return type <code>ActorRef</code> (and the semantics that the returned ref is fully functional), special handling takes place for this case. Behind the scenes, a hollow kind of actor reference is constructed, which is sent to the system’s guardian actor who actually creates the actor and its context and puts those inside the reference. Until that has happened, messages sent to the <code>ActorRef</code> will be queued locally, and only upon swapping the real filling in will they be transferred into the real mailbox. Thus,</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val props: Props = ...
// this actor uses MyCustomMailbox, which is assumed to be a singleton
system.actorOf(props.withDispatcher(&quot;myCustomMailbox&quot;)) ! &quot;bang&quot;
assert(MyCustomMailbox.instance.getLastEnqueuedMessage == &quot;bang&quot;)
</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">final Props props = ...
// this actor uses MyCustomMailbox, which is assumed to be a singleton
system.actorOf(props.withDispatcher(&quot;myCustomMailbox&quot;).tell(&quot;bang&quot;, sender);
assert(MyCustomMailbox.getInstance().getLastEnqueued().equals(&quot;bang&quot;));
</code></pre></dd>
</dl>
<p>will probably fail; you will have to allow for some time to pass and retry the check à la <code>TestKit.awaitCond</code>.</p>
</div>
</article>

<div class="row">
<div class="small-12 large-9 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="dispatchers.html"><i class="icon-prev"></i> <span class="link-prev">Dispatchers</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="routing.html">Routing <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>

<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/xmeng1/akka/tree/master/akka-docs-cn/src/main/paradox/mailboxes.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>


<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="images/akka-icon.svg">
<section class="copyright">
<div>Akka is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2019 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> | 
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> | 
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> | 
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> | 
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> | 
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>
</footer>

</section>
</main>

<script type="text/javascript" src="js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/groups.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/magellan.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="assets/js/scalafiddle.js"></script>


</body>
</html>
