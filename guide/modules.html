<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Overview of Akka libraries and modules &bull; Akka Documentation 中文</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="akka-docs-cn"/>
<link rel="canonical" href="http://doc.akka.io/docs/akka/current/guide/modules.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png">
<link rel="manifest" href="../images/manifest.json">
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png">
<meta name="msapplication-TileColor" content="#15a9ce">
<meta name="theme-color" content="#15a9ce">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<script type="text/plain" class="optanon-category-2">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
ga('tsTracker.require', 'linker');
ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org','scala-ide.org']);
ga('tsTracker.send', 'pageview');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="http://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Documentation 中文</a></h1>
</div>
<div class="nav-header-version">
Version 2.5-SNAPSHOT
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../guide/index.html" class="page">Getting Started Guide</a>
  <ul>
    <li><a href="../guide/introduction.html" class="page">Introduction to Akka</a></li>
    <li><a href="../guide/actors-motivation.html" class="page">Why modern systems need a new programming model</a></li>
    <li><a href="../guide/actors-intro.html" class="page">How the Actor Model Meets the Needs of Modern, Distributed Systems</a></li>
    <li><a href="../guide/modules.html#overview-of-akka-libraries-and-modules" class="active page">Overview of Akka libraries and modules</a>
    <ul>
      <li><a href="../guide/modules.html#actor-library" class="header">Actor library</a></li>
      <li><a href="../guide/modules.html#remoting" class="header">Remoting</a></li>
      <li><a href="../guide/modules.html#cluster" class="header">Cluster</a></li>
      <li><a href="../guide/modules.html#cluster-sharding" class="header">Cluster Sharding</a></li>
      <li><a href="../guide/modules.html#cluster-singleton" class="header">Cluster Singleton</a></li>
      <li><a href="../guide/modules.html#cluster-publish-subscribe" class="header">Cluster Publish-Subscribe</a></li>
      <li><a href="../guide/modules.html#persistence" class="header">Persistence</a></li>
      <li><a href="../guide/modules.html#distributed-data" class="header">Distributed Data</a></li>
      <li><a href="../guide/modules.html#streams" class="header">Streams</a></li>
      <li><a href="../guide/modules.html#http" class="header">HTTP</a></li>
      <li><a href="../guide/modules.html#example-of-module-use" class="header">Example of module use</a></li>
    </ul></li>
    <li><a href="../guide/tutorial.html" class="page">Introduction to the Example</a></li>
    <li><a href="../guide/tutorial_1.html" class="page">Part 1: Actor Architecture</a></li>
    <li><a href="../guide/tutorial_2.html" class="page">Part 2: Creating the First Actor</a></li>
    <li><a href="../guide/tutorial_3.html" class="page">Part 3: Working with Device Actors</a></li>
    <li><a href="../guide/tutorial_4.html" class="page">Part 4: Working with Device Groups</a></li>
    <li><a href="../guide/tutorial_5.html" class="page">Part 5: Querying Device Groups</a></li>
  </ul></li>
  <li><a href="../general/index.html" class="page">General Concepts</a></li>
  <li><a href="../index-actors.html" class="page">Actors</a></li>
  <li><a href="../typed/index.html" class="page">Akka Typed</a></li>
  <li><a href="../index-cluster.html" class="page">Clustering</a></li>
  <li><a href="../stream/index.html" class="page">Streams</a></li>
  <li><a href="../index-network.html" class="page">Networking</a></li>
  <li><a href="../discovery/index.html" class="page">Discovery</a></li>
  <li><a href="../index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="../index-utilities.html" class="page">Utilities</a></li>
  <li><a href="../common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="../howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="../project/index.html" class="page">Project Information</a></li>
  <li><a href="../additional/index.html" class="page">Additional Information</a></li>
  <li><a href="../chinese/index.html" class="page">中文版文档说明</a></li>
</ul>
</nav>
</div>
</header>

<aside class="show-for-large">
<header class="nav-header fixed-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Documentation 中文</a></h1>
</div>
<div class="nav-header-version">
Version 2.5-SNAPSHOT
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="site-nav fixed-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../guide/index.html" class="page">Getting Started Guide</a>
  <ul>
    <li><a href="../guide/introduction.html" class="page">Introduction to Akka</a></li>
    <li><a href="../guide/actors-motivation.html" class="page">Why modern systems need a new programming model</a></li>
    <li><a href="../guide/actors-intro.html" class="page">How the Actor Model Meets the Needs of Modern, Distributed Systems</a></li>
    <li><a href="../guide/modules.html#overview-of-akka-libraries-and-modules" class="active page">Overview of Akka libraries and modules</a>
    <ul>
      <li><a href="../guide/modules.html#actor-library" class="header">Actor library</a></li>
      <li><a href="../guide/modules.html#remoting" class="header">Remoting</a></li>
      <li><a href="../guide/modules.html#cluster" class="header">Cluster</a></li>
      <li><a href="../guide/modules.html#cluster-sharding" class="header">Cluster Sharding</a></li>
      <li><a href="../guide/modules.html#cluster-singleton" class="header">Cluster Singleton</a></li>
      <li><a href="../guide/modules.html#cluster-publish-subscribe" class="header">Cluster Publish-Subscribe</a></li>
      <li><a href="../guide/modules.html#persistence" class="header">Persistence</a></li>
      <li><a href="../guide/modules.html#distributed-data" class="header">Distributed Data</a></li>
      <li><a href="../guide/modules.html#streams" class="header">Streams</a></li>
      <li><a href="../guide/modules.html#http" class="header">HTTP</a></li>
      <li><a href="../guide/modules.html#example-of-module-use" class="header">Example of module use</a></li>
    </ul></li>
    <li><a href="../guide/tutorial.html" class="page">Introduction to the Example</a></li>
    <li><a href="../guide/tutorial_1.html" class="page">Part 1: Actor Architecture</a></li>
    <li><a href="../guide/tutorial_2.html" class="page">Part 2: Creating the First Actor</a></li>
    <li><a href="../guide/tutorial_3.html" class="page">Part 3: Working with Device Actors</a></li>
    <li><a href="../guide/tutorial_4.html" class="page">Part 4: Working with Device Groups</a></li>
    <li><a href="../guide/tutorial_5.html" class="page">Part 5: Querying Device Groups</a></li>
  </ul></li>
  <li><a href="../general/index.html" class="page">General Concepts</a></li>
  <li><a href="../index-actors.html" class="page">Actors</a></li>
  <li><a href="../typed/index.html" class="page">Akka Typed</a></li>
  <li><a href="../index-cluster.html" class="page">Clustering</a></li>
  <li><a href="../stream/index.html" class="page">Streams</a></li>
  <li><a href="../index-network.html" class="page">Networking</a></li>
  <li><a href="../discovery/index.html" class="page">Discovery</a></li>
  <li><a href="../index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="../index-utilities.html" class="page">Utilities</a></li>
  <li><a href="../common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="../howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="../project/index.html" class="page">Project Information</a></li>
  <li><a href="../additional/index.html" class="page">Additional Information</a></li>
  <li><a href="../chinese/index.html" class="page">中文版文档说明</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer fixed-sidebar-footer">
<a href="http://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"></a>

</footer>
</aside>

<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">

<article class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#overview-of-akka-libraries-and-modules" name="overview-of-akka-libraries-and-modules" class="anchor"><span class="anchor-link"></span></a>Overview of Akka libraries and modules</h1>
<p>Before delving into some best practices for writing actors, it will be helpful to preview the most commonly used Akka libraries. This will help you start thinking about the functionality you want to use in your system. All core Akka functionality is available as Open Source Software (OSS). Lightbend sponsors Akka development but can also help you with <a href="https://www.lightbend.com/platform/subscription">commercial offerings </a> such as training, consulting, support, and <a href="https://www.lightbend.com/platform/production">Enterprise Suite</a> &#8212; a comprehensive set of tools for managing Akka systems.</p>
<p>The following capabilities are included with Akka OSS and are introduced later on this page:</p>
<ul>
  <li><a href="#actor-library">Actor library</a></li>
  <li><a href="#remoting">Remoting</a></li>
  <li><a href="#cluster">Cluster</a></li>
  <li><a href="#cluster-sharding">Cluster Sharding</a></li>
  <li><a href="#cluster-singleton">Cluster Singleton</a></li>
  <li><a href="#cluster-publish-subscribe">Cluster Publish-Subscribe</a></li>
  <li><a href="#persistence">Persistence</a></li>
  <li><a href="#distributed-data">Distributed Data</a></li>
  <li><a href="#streams">Streams</a></li>
  <li><a href="#http">HTTP</a></li>
</ul>
<p>With a Lightbend subscription, you can use <a href="https://www.lightbend.com/platform/production">Enterprise Suite</a> in production. Enterprise Suite includes the following extensions to Akka core functionality:</p>
<ul>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/split-brain-resolver.html">Split Brain Resolver</a> &#8212; Detects and recovers from network partitions, eliminating data inconsistencies and possible downtime.</li>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/persistence-dc/index.html">Multi-DC Persistence</a> &#8212; For active-active persistent entities across multiple data centers.</li>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/gdpr/index.html">GDPR for Akka Persistence</a> &#8212; Data shredding can be used to forget information in events.</li>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/fast-failover.html">Fast Failover</a> &#8212; Fast failover for Cluster Sharding.</li>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/config-checker.html">Configuration Checker</a> &#8212; Checks for potential configuration issues and logs suggestions.</li>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/diagnostics-recorder.html">Diagnostics Recorder</a> &#8212; Captures configuration and system information in a format that makes it easy to troubleshoot issues during development and production.</li>
  <li><a href="https://developer.lightbend.com/docs/akka-commercial-addons/current/starvation-detector.html">Thread Starvation Detector</a> &#8212; Monitors an Akka system dispatcher and logs warnings if it becomes unresponsive.</li>
</ul>
<p>This page does not list all available modules, but overviews the main functionality and gives you an idea of the level of sophistication you can reach when you start building systems on top of Akka.</p>
<h3><a href="#actor-library" name="actor-library" class="anchor"><span class="anchor-link"></span></a>Actor library</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-actor" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-actor_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-actor_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>The core Akka library is <code>akka-actor</code>, but actors are used across Akka libraries, providing a consistent, integrated model that relieves you from individually solving the challenges that arise in concurrent or distributed system design. From a birds-eye view, actors are a programming paradigm that takes encapsulation, one of the pillars of OOP, to its extreme. Unlike objects, actors encapsulate not only their state but their execution. Communication with actors is not via method calls but by passing messages. While this difference may seem minor, it is actually what allows us to break clean from the limitations of OOP when it comes to concurrency and remote communication. Don’t worry if this description feels too high level to fully grasp yet, in the next chapter we will explain actors in detail. For now, the important point is that this is a model that handles concurrency and distribution at the fundamental level instead of ad hoc patched attempts to bring these features to OOP.</p>
<p>Challenges that actors solve include the following:</p>
<ul>
  <li>How to build and design high-performance, concurrent applications.</li>
  <li>How to handle errors in a multi-threaded environment.</li>
  <li>How to protect my project from the pitfalls of concurrency.</li>
</ul>
<h3><a href="#remoting" name="remoting" class="anchor"><span class="anchor-link"></span></a>Remoting</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-remote" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-remote_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-remote_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>Remoting enables actors that live on different computers to seamlessly exchange messages. While distributed as a JAR artifact, Remoting resembles a module more than it does a library. You enable it mostly with configuration and it has only a few APIs. Thanks to the actor model, a remote and local message send looks exactly the same. The patterns that you use on local systems translate directly to remote systems. You will rarely need to use Remoting directly, but it provides the foundation on which the Cluster subsystem is built.</p>
<p>Challenges Remoting solves include the following:</p>
<ul>
  <li>How to address actor systems living on remote hosts.</li>
  <li>How to address individual actors on remote actor systems.</li>
  <li>How to turn messages to bytes on the wire.</li>
  <li>How to manage low-level, network connections (and reconnections) between hosts, detect crashed actor systems and hosts,  all transparently.</li>
  <li>How to multiplex communications from an unrelated set of actors on the same network connection, all transparently.</li>
</ul>
<h3><a href="#cluster" name="cluster" class="anchor"><span class="anchor-link"></span></a>Cluster</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-cluster" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-cluster_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-cluster_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>If you have a set of actor systems that cooperate to solve some business problem, then you likely want to manage these set of systems in a disciplined way. While Remoting solves the problem of addressing and communicating with components of remote systems, Clustering gives you the ability to organize these into a &ldquo;meta-system&rdquo; tied together by a membership protocol. <strong>In most cases, you want to use the Cluster module instead of using Remoting directly.</strong> Clustering provides an additional set of services on top of Remoting that most real world applications need.</p>
<p>Challenges the Cluster module solves include the following:</p>
<ul>
  <li>How to maintain a set of actor systems (a cluster) that can communicate with each other and consider each other as part of the cluster.</li>
  <li>How to introduce a new system safely to the set of already existing members.</li>
  <li>How to reliably detect systems that are temporarily unreachable.</li>
  <li>How to remove failed hosts/systems (or scale down the system) so that all remaining members agree on the remaining subset of the cluster.</li>
  <li>How to distribute computations among the current set of members.</li>
  <li>How to designate members of the cluster to a certain role, in other words, to provide certain services and not others.</li>
</ul>
<h3><a href="#cluster-sharding" name="cluster-sharding" class="anchor"><span class="anchor-link"></span></a>Cluster Sharding</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-cluster-sharding" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-cluster-sharding_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-cluster-sharding_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>Sharding helps to solve the problem of distributing a set of actors among members of an Akka cluster. Sharding is a pattern that mostly used together with Persistence to balance a large set of persistent entities (backed by actors) to members of a cluster and also migrate them to other nodes when members crash or leave.</p>
<p>Challenges that Sharding solves include the following:</p>
<ul>
  <li>How to model and scale out a large set of stateful entities on a set of systems.</li>
  <li>How to ensure that entities in the cluster are distributed properly so that load is properly balanced across the machines.</li>
  <li>How to ensure migrating entities from a crashed system without losing the state.</li>
  <li>How to ensure that an entity does not exist on multiple systems at the same time and hence keeps consistent.</li>
</ul>
<h3><a href="#cluster-singleton" name="cluster-singleton" class="anchor"><span class="anchor-link"></span></a>Cluster Singleton</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-cluster-singleton" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-cluster-singleton_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-cluster-singleton_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>A common (in fact, a bit too common) use case in distributed systems is to have a single entity responsible for a given task which is shared among other members of the cluster and migrated if the host system fails. While this undeniably introduces a common bottleneck for the whole cluster that limits scaling, there are scenarios where the use of this pattern is unavoidable. Cluster singleton allows a cluster to select an actor system which will host a particular actor while other systems can always access said service independently from where it is.</p>
<p>The Singleton module can be used to solve these challenges:</p>
<ul>
  <li>How to ensure that only one instance of a service is running in the whole cluster.</li>
  <li>How to ensure that the service is up even if the system hosting it currently crashes or shuts down during the process of scaling down.</li>
  <li>How to reach this instance from any member of the cluster assuming that it can migrate to other systems over time.</li>
</ul>
<h3><a href="#cluster-publish-subscribe" name="cluster-publish-subscribe" class="anchor"><span class="anchor-link"></span></a>Cluster Publish-Subscribe</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-cluster-tools" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-cluster-tools_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-cluster-tools_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>For coordination among systems, it is often necessary to distribute messages to all, or one system of a set of interested systems in a cluster. This pattern is usually called publish-subscribe and this module solves this exact problem. It is possible to broadcast messages to all subscribers of a topic or send a message to an arbitrary actor that has expressed interest.</p>
<p>Cluster Publish-Subscribe is intended to solve the following challenges:</p>
<ul>
  <li>How to broadcast messages to an interested set of parties in a cluster.</li>
  <li>How to send a message to a member from an interested set of parties in a cluster.</li>
  <li>How to subscribe and unsubscribe for events of a certain topic in the cluster.</li>
</ul>
<h3><a href="#persistence" name="persistence" class="anchor"><span class="anchor-link"></span></a>Persistence</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-persistence" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-persistence_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-persistence_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>Just like objects in OOP, actors keep their state in volatile memory. Once the system is shut down, gracefully or because of a crash, all data that was in memory is lost. Persistence provides patterns to enable actors to persist events that lead to their current state. Upon startup, events can be replayed to restore the state of the entity hosted by the actor. The event stream can be queried and fed into additional processing pipelines (an external Big Data cluster for example) or alternate views (like reports).</p>
<p>Persistence tackles the following challenges:</p>
<ul>
  <li>How to restore the state of an entity/actor when system restarts or crashes.</li>
  <li>How to implement a <a href="https://msdn.microsoft.com/en-us/library/jj591573.aspx">CQRS system</a>.</li>
  <li>How to ensure reliable delivery of messages in face of network errors and system crashes.</li>
  <li>How to introspect domain events that have led an entity to its current state.</li>
  <li>How to leverage <a href="https://martinfowler.com/eaaDev/EventSourcing.html">Event Sourcing</a> in your application to support long-running processes while the project continues to evolve.</li>
</ul>
<h3><a href="#distributed-data" name="distributed-data" class="anchor"><span class="anchor-link"></span></a>Distributed Data</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-distributed-data" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-distributed-data_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-distributed-data_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>In situations where eventual consistency is acceptable, it is possible to share data between nodes in an Akka Cluster and accept both reads and writes even in the face of cluster partitions. This can be achieved using <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type">Conflict Free Replicated Data Types</a> (CRDTs), where writes on different nodes can happen concurrently and are merged in a predictable way afterward. The Distributed Data module provides infrastructure to share data and a number of useful data types.</p>
<p>Distributed Data is intended to solve the following challenges:</p>
<ul>
  <li>How to accept writes even in the face of cluster partitions.</li>
  <li>How to share data while at the same time ensuring low-latency local read and write access.</li>
</ul>
<h3><a href="#streams" name="streams" class="anchor"><span class="anchor-link"></span></a>Streams</h3><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-stream" % "2.5-SNAPSHOT"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-stream_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.typesafe.akka', name: 'akka-stream_2.12', version: '2.5-SNAPSHOT'
}</code></pre></dd></dl>
<p>Actors are a fundamental model for concurrency, but there are common patterns where their use requires the user to implement the same pattern over and over. Very common is the scenario where a chain, or graph, of actors, need to process a potentially large, or infinite, stream of sequential events and properly coordinate resource usage so that faster processing stages do not overwhelm slower ones in the chain or graph. Streams provide a higher-level abstraction on top of actors that simplifies writing such processing networks, handling all the fine details in the background and providing a safe, typed, composable programming model. Streams is also an implementation of the <a href="http://www.reactive-streams.org">Reactive Streams standard</a> which enables integration with all third party implementations of that standard.</p>
<p>Streams solve the following challenges:</p>
<ul>
  <li>How to handle streams of events or large datasets with high performance, exploiting concurrency and keeping resource usage tight.</li>
  <li>How to assemble reusable pieces of event/data processing into flexible pipelines.</li>
  <li>How to connect asynchronous services in a flexible way to each other with high performance.</li>
  <li>How to provide or consume Reactive Streams compliant interfaces to interface with a third party library.</li>
</ul>
<h3><a href="#http" name="http" class="anchor"><span class="anchor-link"></span></a>HTTP</h3>
<p><a href="https://doc.akka.io/docs/akka-http/current">Akka HTTP</a> is a separate module from Akka.</p>
<p>The de facto standard for providing APIs remotely, internal or external, is <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a>. Akka provides a library to construct or consume such HTTP services by giving a set of tools to create HTTP services (and serve them) and a client that can be used to consume other services. These tools are particularly suited to streaming in and out a large set of data or real-time events by leveraging the underlying model of Akka Streams.</p>
<p>Some of the challenges that HTTP tackles:</p>
<ul>
  <li>How to expose services of a system or cluster to the external world via an HTTP API in a performant way.</li>
  <li>How to stream large datasets in and out of a system using HTTP.</li>
  <li>How to stream live events in and out of a system using HTTP.</li>
</ul>
<h3><a href="#example-of-module-use" name="example-of-module-use" class="anchor"><span class="anchor-link"></span></a>Example of module use</h3>
<p>Akka modules integrate together seamlessly. For example, think of a large set of stateful business objects, such as documents or shopping carts, that website users access. If you model these as sharded entities, using Sharding and Persistence, they will be balanced across a cluster that you can scale out on-demand. They will be available during spikes that come from advertising campaigns or before holidays will be handled, even if some systems crash. You can also take the real-time stream of domain events with Persistence Query and use Streams to pipe them into a streaming Fast Data engine. Then, take the output of that engine as a Stream, manipulate it using Akka Streams operators and expose it as web socket connections served by a load balanced set of HTTP servers hosted by your cluster to power your real-time business analytics tool.</p>
<p>We hope this preview caught your interest! The next topic introduces the example application we will build in the tutorial portion of this guide.</p>
</div>
</article>

<div class="row">
<div class="small-12 large-9 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../guide/actors-intro.html"><i class="icon-prev"></i> <span class="link-prev">How the Actor Model Meets the Needs of Modern, Distributed Systems</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../guide/tutorial.html">Introduction to the Example <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>

<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/xmeng1/akka/tree/master/akka-docs-cn/src/main/paradox/guide/modules.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>


<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg">
<section class="copyright">
<div>Akka is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2019 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> | 
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> | 
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> | 
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> | 
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> | 
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>
</footer>

</section>
</main>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="../assets/js/scalafiddle.js"></script>


</body>
</html>
